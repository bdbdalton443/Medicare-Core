#pragma checksum "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\GridSpreadsheetDemo\Autocomplete.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "ac69e437d2be14cd120f2bbcc78eb02122765157"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_GridSpreadsheetDemo_Autocomplete), @"mvc.1.0.view", @"/Views/GridSpreadsheetDemo/Autocomplete.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\_ViewImports.cshtml"
using Omu.AwesomeMvc;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\_ViewImports.cshtml"
using Omu.Awem.Helpers;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\_ViewImports.cshtml"
using AweCoreDemo;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\_ViewImports.cshtml"
using AweCoreDemo.Utils;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\_ViewImports.cshtml"
using AweCoreDemo.Helpers.Awesome;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\_ViewImports.cshtml"
using AweCoreDemo.Helpers;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ac69e437d2be14cd120f2bbcc78eb02122765157", @"/Views/GridSpreadsheetDemo/Autocomplete.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"4be622e01f8f56f0dd36faab0a36e6216511e344", @"/Views/_ViewImports.cshtml")]
    public class Views_GridSpreadsheetDemo_Autocomplete : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 1 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\GridSpreadsheetDemo\Autocomplete.cshtml"
  
    ViewBag.Title = "Autocomplete Cells Spreadsheet Grid";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<h1>Autocomplete Cells Spreadsheet Demo</h1>
<br />
Try and edit some cells, after switch pages/refresh broswer. Note you have to exit the cell or hit enter in order for the change to be persisted.
<br />
<div class=""bar"">
    <button type=""button"" class=""awe-btn"" id=""addrow"">add row</button>
</div>

");
#nullable restore
#line 13 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\GridSpreadsheetDemo\Autocomplete.cshtml"
Write(Html.Awe().Grid("Spreadsheet")
    .Groupable(false)
    .Sortable(false)
    .Url(Url.Action("GridGetItems"))
    .CssClass("spreadsh")
    .Columns(
        new Column { Bind = "Name", ClientFormatFunc = "txt" },
        new Column { Bind = "Location", ClientFormatFunc = "txt" },
        new Column { Bind = "Meal", ClientFormatFunc = "txt" }));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n<textarea id=\"log\" class=\"log\"></textarea>\r\n<script>\r\n");
#nullable restore
#line 25 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\GridSpreadsheetDemo\Autocomplete.cshtml"
      
        var helperStr = Html.Awe().AjaxRadioList("#Name")
            .Prefix("#Prefix")
            .DataFunc("utils.getEmpty")
            .Svalue("#Value")
            .SyncScript()
            .Combobox(o =>
                o.SearchFunc("utils.osearch", Url.Action("SearchMeals", "Data"), "m1")
                 .UseConVal()
                 .ClearCacheOnLoad(false))
            .ToString();
    

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n    function txt(model, name) {\r\n        var format = ");
#nullable restore
#line 39 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\GridSpreadsheetDemo\Autocomplete.cshtml"
                Write(Html.Raw(DemoUtils.Encode(helperStr)));

#line default
#line hidden
#nullable disable
            WriteLiteral(@";
        var val = model[name];
        if (!val) val = """"; // replace null with """"'
        return format.split(""#Name"").join(name).split(""#Value"").join(val).split(""#Prefix"").join(""c"" + model.Id);
    }

    $(function() {
        var g = $('#Spreadsheet');
        function add() {
            var xhr = g.data('api').load({ oparams: { page: 1 } }); // first go to page 1

            $.when(xhr).done(function() {
                var row = $(g.data('api').renderRow({ Id: 0 }));
                g.find('.awe-row:first').before(row); // insert the row
                row.find('input:first').focus();
            });
        }

        g.on('change', 'input.awe-val', function() {
            var input = $(this);
            var model = utils.model(input.closest('.awe-row'));
            var prop = input.attr(""name"");

            var val = input.val();
            if (model[prop] != val) {
                model[prop] = val;

                awe.ajx('");
#nullable restore
#line 66 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\GridSpreadsheetDemo\Autocomplete.cshtml"
                     Write(Url.Action("Save"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"', awe.srl({ id: model.Id, name: prop, value: val }))
                    .done(function (res) {
                        if (model.Id == 0) {
                            model.Id = res.Id;
                            $('#log').prepend('new record added id = ' + res.Id + ' \n');
                        }

                        $('#log').prepend(model[prop] + ' saved \n');
                    });
            }
        });

        $('#addrow').on('click', add);
    });
</script>

<style>
    .spreadsh .awe-row td {
        background: white;
        padding: 0;
        text-align: center;
    }

    .spreadsh input[type=""text""] {
        width: 100%;
        margin: auto;
        border: none;
        padding: .5em .7em;
    }
</style>
");
            WriteLiteral(@"<br />
<div class=""tabs"">
    <div data-caption=""description"" class=""expl"">
        Adding autocomplete behaviour for each cell by using the combobox instead of a textbox. <br />
        The comboboxes use remote search and a shared cache for the search results ( by setting the same cache key ""m1"" )
    </div>
    <div data-caption=""view"">");
#nullable restore
#line 103 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\GridSpreadsheetDemo\Autocomplete.cshtml"
                        Write(Html.Source("GridSpreadsheetDemo/Autocomplete.cshtml"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</div>\r\n    <div data-caption=\"controller\">");
#nullable restore
#line 104 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\GridSpreadsheetDemo\Autocomplete.cshtml"
                              Write(Html.Csource("Demos/Grid/GridSpreadsheetDemoController.cs"));

#line default
#line hidden
#nullable disable
            WriteLiteral("</div>\r\n</div>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
