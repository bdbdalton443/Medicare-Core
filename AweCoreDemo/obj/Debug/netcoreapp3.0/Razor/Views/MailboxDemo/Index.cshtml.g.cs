#pragma checksum "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\MailboxDemo\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "594bb9210d5786ef7e8e29e307c6f79150e31fed"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_MailboxDemo_Index), @"mvc.1.0.view", @"/Views/MailboxDemo/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\_ViewImports.cshtml"
using Omu.AwesomeMvc;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\_ViewImports.cshtml"
using Omu.Awem.Helpers;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\_ViewImports.cshtml"
using AweCoreDemo;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\_ViewImports.cshtml"
using AweCoreDemo.Utils;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\_ViewImports.cshtml"
using AweCoreDemo.Helpers.Awesome;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\_ViewImports.cshtml"
using AweCoreDemo.Helpers;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"594bb9210d5786ef7e8e29e307c6f79150e31fed", @"/Views/MailboxDemo/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"4be622e01f8f56f0dd36faab0a36e6216511e344", @"/Views/_ViewImports.cshtml")]
    public class Views_MailboxDemo_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 1 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\MailboxDemo\Index.cshtml"
  
    ViewBag.Title = "Grid mailbox messages";

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
            WriteLiteral("<h1>Grid Demo - Mailbox messages</h1>\r\n");
#nullable restore
#line 7 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\MailboxDemo\Index.cshtml"
  
    var chkformat = "<div class=\"o-chk\"><div class=\"o-chkc\"><div class=\"o-chkico\"></div></div></div>";
    var mchkformat = "<div id=\"mainCheck\" class=\"o-chk\"><div class=\"o-chkc\"><div class=\"o-chkico\"></div></div></div>";

#line default
#line hidden
#nullable disable
            WriteLiteral("<div class=\"bar\">\r\n    ");
#nullable restore
#line 12 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\MailboxDemo\Index.cshtml"
Write(Html.Awe().AjaxRadioList("selectMenu").MenuDropdown(o => o.Caption(mchkformat).MinWidth(3)).DataFunc("selectMenuData"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"

    <div class=""actbar awe-il"">
        <button type=""button"" class=""awe-btn"" id=""btnRefresh"">Refresh</button>
    </div>
    <div class=""selActions awe-il o-btng"" style=""display: none; line-height: 1.1em;"">
        <button type=""button"" id=""btnDelete"" class=""awe-btn"">Delete</button>
        <button type=""button"" id=""btnMarkRead"" class=""awe-btn"">Mark as read</button>
        <button type=""button"" id=""btnMarkUnread"" class=""awe-btn"">Mark as unread</button>
    </div>
</div>

");
#nullable restore
#line 24 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\MailboxDemo\Index.cshtml"
Write(Html.Awe().Grid("MessagesGrid")
                .Url(Url.Action("GetItems", "MessagesGrid"))
                .Mod(o => o.MiniPager().PageInfo())
                .ShowHeader(false)
                .ShowGroupBar(false)
                .CssClass("mboxg")
                .Selectable(SelectionType.Multicheck, ".sel")
                .RowClassClientFormat(".RowClass")
                .Columns(
                    new Column
                    {
                        ClientFormat = chkformat,
                        Width = 38,
                        CssClass = "sel"
                    },
                    new Column { Bind = "From", Width = 150, ClientFormat = ".Subject" },
                    new Column { ClientFormat = ".From <span class='bodytext'>.Body</span>" }.Mod(o => o.Autohide()),
                    new Column { Bind = "DateReceived", Sort = Sort.Desc, Width = 125 }));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n");
#nullable restore
#line 43 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\MailboxDemo\Index.cshtml"
Write(Html.Awe().InitPopup().Name("ReadMessage").Url(Url.Action("ReadMessage")).Modal().Mod(o => o.OutClickClose()));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 44 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\MailboxDemo\Index.cshtml"
Write(Html.Awe().InitCall("markRead").Url(Url.Action("MarkRead")).Success("mbox.reload"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 45 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\MailboxDemo\Index.cshtml"
Write(Html.Awe().InitCall("markUnread").Url(Url.Action("MarkUnread")).Success("mbox.reload"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 46 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\MailboxDemo\Index.cshtml"
Write(Html.Awe().InitCall("delete").Url(Url.Action("Delete")).Success("mbox.reload"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"

<script type=""text/javascript"">
    var lastSelIds;
    var $grid = $('#MessagesGrid');
    var sochked = 'o-chked';
    var spartselected = 'partselected';

    function selectMenuData() {
        return [
            { c: 'All', click: 'mbox.selectAll()' },
            { c: 'None', click: 'mbox.deselectAll()' },
            { c: 'Read', click: 'mbox.selectRead()' },
            { c: 'Unread', click: 'mbox.selectUnread()' }
        ];
    }

    var mbox = function ($g) {
        var scls = 'awe-selected';
        return {
            selIds: function () {
                return $.map($g.data('api').getSelection(), function (o) { return o.Id; });
            },

            reload: function () {
                $g.data('api').load();
            },

            selectAll: function () {
                $g.find('.awe-row').addClass(scls);
                $g.trigger('aweselect');
            },

            deselectAll: function () {
                $g.find('.awe-row').remove");
            WriteLiteral(@"Class(scls);
                $g.trigger('aweselect');
            },

            selectRead: function () {
                $g.find('.awe-row').removeClass(scls).each(function (_, item) {
                    if (utils.model($(item)).IsRead) {
                        $(item).addClass(scls);
                    }
                });
                $g.trigger('aweselect');
            },

            selectUnread: function () {
                $g.find('.awe-row').removeClass(scls).each(function (_, item) {
                    if (!utils.model($(item)).IsRead) {
                        $(item).addClass(scls);
                    }
                }).trigger('aweselect');
            }
        };
    }($grid);


    $(function () {
        var $mainCheck = $('#mainCheck');

        $mainCheck.click(function () {
            if ($mainCheck.hasClass(sochked) || $mainCheck.hasClass(spartselected)) {
                mbox.deselectAll();
            } else {
                mbox.selectAll");
            WriteLiteral(@"();
            }

            return false;
        });

        // buttons
        $('#btnMarkRead').click(function () {
            awe.oc('markRead', { params: { ids: mbox.selIds() } });
        });

        $('#btnMarkUnread').click(function () {
            awe.oc('markUnread', { params: { ids: mbox.selIds() } });
        });

        $('#btnDelete').click(function () {
            awe.oc('delete', { params: { ids: mbox.selIds() } });
        });

        $('#btnRefresh').click(mbox.reload);

        // grid row click open message
        $grid.on('click', '.awe-row', function (e) {
            if (!$(e.target).closest('.sel').length) {
                var $row = $(this).closest('.awe-row');
                awe.open('ReadMessage', { params: { id: utils.model($row).Id } });
                mbox.reload();
            }
        });

        $grid.on('aweselect', function () {
            lastSelIds = mbox.selIds();
            $mainCheck.removeClass(sochked + ' ' + spartsele");
            WriteLiteral(@"cted);
            $('.selActions').show();
            var cls = '';

            if (lastSelIds.length && $grid.find('.awe-row').length == lastSelIds.length) {
                cls = sochked;
            }
            else if (lastSelIds.length > 0) {
                cls = spartselected;
            } else {
                $('.selActions').hide();
            }

            $mainCheck.addClass(cls);

            // sync grid selection with o-chk
            $grid.find('.awe-row .o-chk').removeClass(sochked);
            $grid.find('.awe-row.awe-selected .o-chk').addClass(sochked);
        });

        // maintain selection on reload
        $grid.on('aweload', function () {
            if (lastSelIds) {
                $grid.find('.awe-row')
                    .each(function (i, row) {
                        if ($.inArray(utils.model($(row)).Id, lastSelIds) > -1) {
                            $(row).addClass('awe-selected');
                        }
                    });

");
            WriteLiteral(@"                $grid.trigger('aweselect');
            }
        });
    });
</script>

<style>
    .readItem {
        cursor: pointer;
    }

    .notRead {
        font-weight: bold;
    }

    .bodytext {
        color: gray;
        font-weight: normal;
    }

    .sel {
        cursor: default;
    }

    .mboxg .awe-row {
        cursor: pointer;
        font-family: arial, sans-serif;
    }

    .mboxg .awe-relbox {
        display: none;
    }

    .mboxg .awe-row td {
        border-right: none;
    }

    .mboxg .awe-footer {
        border: none;
    }

    .actbar {
        line-height: 2em;
        font-size: 0.9em;
    }

        .actbar .awe-btn {
            padding: 2px 10px;
        }
</style>
");
            WriteLiteral("<div class=\"code\">\r\n    ");
#nullable restore
#line 225 "D:\Tutorials\ASP Core Tables\AweCoreDemo\AweCoreDemo\AweCoreDemo\Views\MailboxDemo\Index.cshtml"
Write(Html.Source("MailboxDemo/Index.cshtml"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
